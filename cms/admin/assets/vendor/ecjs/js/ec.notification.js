/*! EC.js - v0.1.0 - 2013-05-15
* Copyright (c) 2013 Emilio Cobos √Ålvarez; Licensed MIT */
(function(t){"use strict";EC.notification=EC.notification||{};var e=0;EC.core.extend(EC.notification,{nativeSupport:!!t.Notification,create:function(e,n){return EC.notification.nativeSupport?new t.Notification(e,n||{}):EC.DOM?new EC.notification.DOMBasedNotification(e,n):undefined},DOMBasedNotification:function(t,n){var o,i=this;return n=i.options=n||{},o=i.element=EC.DOM.create("div",{className:"ec-dom-notification",innerHTML:function(){var e='<div class="ec-dom-notification-close">&times;</div><h2 class="ec-dom-notification-title">'+t+"</h2>";return n.iconUrl&&(e+='<img class="ec-dom-notification-icon" src="'+n.iconUrl+'" alt>'),n.body&&(e+='<div class="ec-dom-notification-body">'+EC.core.htmlEscape(n.body)+"</div>"),e}(),id:"ec-dom-notification-"+ ++e}),"function"==typeof n.onclick&&o.on("click",n.onclick),o.first(".ec-dom-notification-close").on("click",function(){i.close()}),i}}),EC.core.extend(EC.notification.DOMBasedNotification.prototype,{show:function(){this.element.appendTo("body"),"function"==typeof this.options.onshow&&this.options.onshow.call(this)},close:function(){this.element.addClass("is-hidden"),"function"==typeof this.options.onclose&&this.options.onclose.call(this)}})})(window);